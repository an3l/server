select @@debug_dbug;
@@debug_dbug
d,*:i:A,/home/anel/mariadb/builds/10.5/mysql-test/var/log/mysqld.1.trace:t
connect  conn1, localhost, root,,;
connect  conn2, localhost, root,,;
create table t1(t int);
connection conn1;
select @@debug_sync;
@@debug_sync
ON - current signal: ''
show variables like 'debug_sync';
Variable_name	Value
debug_sync	ON - current signal: ''
SET DEBUG_SYNC= 'before_lock_tables_takes_lock SIGNAL opened WAIT_FOR flushed';
select @@debug_sync;
@@debug_sync
ON - current signal: ''
INSERT INTO t1 VALUES(1);
connection conn2;
SET DEBUG_SYNC= 'now WAIT_FOR opened';
SET DEBUG_SYNC= 'after_flush_unlock SIGNAL flushed';
FLUSH TABLE t1;
show variables like 'debug_sync';
Variable_name	Value
debug_sync	ON - current signal: 'flushed'
connection default;
SELECT * FROM t1;
t
1
SET DEBUG_SYNC='RESET';
show variables like 'debug_sync';
Variable_name	Value
debug_sync	ON - current signal: ''
DROP TABLE t1;
